<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Movie Design</title>
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
   <style>
    * {
  margin: 0;
}

body {
  font-family: "Roboto", sans-serif;
}

.navbar-1 {
  width: 100%;
  height: 50px;
  background-color: black;
  position: sticky;
  top: 0;
}

.navbar-container {
  display: flex;
  align-items: center;
  padding: 0 50px;
  height: 100%;
  color: white;
  font-family: "Sen", sans-serif;
}

.logo-container {
  flex: 1;
}

.logo {
  font-size: 30px;
  color: #4dbf00;
}

.menu-container {
  flex: 6;
}

.menu-list {
  display: flex;
  list-style: none;
}

.menu-list-item {
  margin-right: 30px;
}

.menu-list-item.active {
  font-weight: bold;
}
.profile-container {
  flex: 2;
  display: flex;
  align-items: center;
  justify-content: flex-end;
}

.profile-text-container {
  margin: 0 20px;
}

.profile-picture {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  object-fit: cover;
}

.toggle {
  width: 40px;
  height: 20px;
  background-color: white;
  border-radius: 30px;
  display: flex;
  align-items: center;
  justify-content: space-around;
  position: relative;
}

.toggle-icon {
  color: goldenrod;
}

.toggle-ball {
  width: 18px;
  height: 18px;
  background-color: black;
  position: absolute;
  right: 1px;
  border-radius: 50%;
  cursor: pointer;
  transition: 1s ease all;
}

.sidebar {
  width: 50px;
  height: 100%;
  background-color: black;
  position: fixed;
  top: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding-top: 60px;
}

.left-menu-icon {
  color: white;
  font-size: 20px;
  margin-bottom: 40px;
}

.container-fluid {
  background-color: #151515;
  min-height: calc(100vh - 50px);
  color: white;
}

.content-container {
  margin-left: 50px;
}

.featured-content {
  height: 50vh;
  padding: 50px;
}

.featured-title {
  width: 200px;
}

.featured-desc {
  width: 500px;
  color: lightgray;
  margin: 30px 0;
}

.featured-button {
  background-color: #4dbf00;
  color: white;
  padding: 10px 20px;
  border-radius: 10px;
  border: none;
  outline: none;
  font-weight: bold;
}

.movie-list-container {
  padding: 0 20px;
}

.movie-list-wrapper {
  position: relative;
  overflow: hidden;
}

.movie-list {
  display: flex;
  align-items: center;
  height: 300px;
  transform: translateX(0);
  transition: all 1s ease-in-out;
}

.movie-list-item {
  margin-right: 30px;
  position: relative;
}

.movie-list-item:hover .movie-list-item-img {
  transform: scale(1.2);
  margin: 0 30px;
  opacity: 0.5;
}

.movie-list-item:hover .movie-list-item-title,
.movie-list-item:hover .movie-list-item-desc,
.movie-list-item:hover .movie-list-item-button {
  opacity: 1;
}

.movie-list-item-img {
  transition: all 1s ease-in-out;
  width: 270px;
  height: 200px;
  object-fit: cover;
  border-radius: 20px;
}

.movie-list-item-title {
  background-color: #333;
  padding: 0 10px;
  font-size: 32px;
  font-weight: bold;
  position: absolute;
  top: 10%;
  left: 50px;
  opacity: 0;
  transition: 1s all ease-in-out;
}

.movie-list-item-desc {
  background-color: #333;
  padding: 10px;
  font-size: 14px;
  position: absolute;
  top: 30%;
  left: 50px;
  width: 230px;
  opacity: 0;
  transition: 1s all ease-in-out;
}

.movie-list-item-button {
  padding: 10px;
  background-color: #4dbf00;
  color: white;
  border-radius: 10px;
  outline: none;
  border: none;
  cursor: pointer;
  position: absolute;
  bottom: 20px;
  left: 50px;
  opacity: 0;
  transition: 1s all ease-in-out;
}

.arrow {
  font-size: 120px;
  position: absolute;
  top: 90px;
  right: 0;
  color: lightgray;
  opacity: 0.5;
  cursor: pointer;
}

.container.active {
  background-color: white;
}

.movie-list-title.active {
  color: black;
}

.navbar-container.active {
  background-color: white;

  color: black;
}

.sidebar.active{
    background-color: white;
}

.left-menu-icon.active{
    color: black;
}

.toggle.active{
    background-color: black;
}

.toggle-ball.active{
    background-color: white;
    transform: translateX(-20px);
}

@media only screen and (max-width: 940px){
    .menu-container{
        display: none;
    }
}
  </style>
   
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	

</head>

<body>
 



  <div class="navbar-1">
        <div class="navbar-container">
            <div class="logo-container">
                <h1 class="logo">LA_MOVIE</h1>
            </div>
            <div class="menu-container">
                <ul class="menu-list">
                    <li class="menu-list-item active"><a href="/movie/home" style="color:aliceblue; text-decoration:none;"> Home </a></li>
                    
               <li><a class="menu-list-item"> <a href="/movie/popular" style="color:aliceblue; text-decoration: none;" >Popular</a></li>
               <li><a class="menu-list-item"> <a href="/user/recommendation" style="color:aliceblue; text-decoration: none;" >Recommendation</a></li>
             <li><a class="menu-list-item"> <a href="/user/signout" style="color:aliceblue; text-decoration: none;" >Signout</a></li>
              
              </ul>
            </div>
          
            <div class="profile-container">
                <img class="profile-picture" src="https://images.unsplash.com/photo-1511367461989-f85a21fda167?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8c2lsaG91ZXR0ZXxlbnwwfHwwfHw%3D&w=1000&q=80" alt="">
                <div class="profile-text-container">
                    <span class="profile-text">Profile</span>
                    <i class="fas fa-caret-down"></i>
                </div>
                <div class="toggle">
                    <i class="fas fa-moon toggle-icon"></i>
                    <i class="fas fa-sun toggle-icon"></i>
                    <div class="toggle-ball"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="sidebar">
        <i class="left-menu-icon fas fa-search"></i>
        <i class="left-menu-icon fas fa-home"></i>
        <i class="left-menu-icon fas fa-users"></i>
        <i class="left-menu-icon fas fa-bookmark"></i>
        <i class="left-menu-icon fas fa-tv"></i>
        <i class="left-menu-icon fas fa-hourglass-start"></i>
        <i class="left-menu-icon fas fa-shopping-cart"></i>
    </div>

   
    <div class="container-fluid">
        <div class="content-container">
         
            <div class="movie-list-container">
                <h1 class="movie-list-title">Action</h1>
                <div class="movie-list-wrapper">

                  <div class="movie-list">
                      <% for(let a of data.Action) {  %> 
                      
                        <div class="movie-list-item">
                            <img class="movie-list-item-img" src="https://image.tmdb.org/t/p/w500/<%= a.poster_path %>" alt="">
                            <span class="movie-list-item-title"><%= a.title %></span>
                            <p class="movie-list-item-desc"><%= a.overview.substring(0,120) %>.</p>
                            <button  type="button" id="<%= a.title %>,<%=a.vote_average%> ,<%= name %>"  class="movie-list-item-button btn btn-danger" onclick="myFunction(this.id)" >Rate</button>      
                            
                            
                        </div>
                        <% } %>
                      </div>
                      </div>
                      </div>
            <div class="movie-list-container">
                <h1 class="movie-list-title">Adventure</h1>
                <div class="movie-list-wrapper">
                    <div class="movie-list">
                      <% for(let a of data.Adventure) {  %> 
                            <div class="movie-list-item">
                            <img class="movie-list-item-img" src="https://image.tmdb.org/t/p/w500/<%= a.poster_path %>" alt="">
                            <span class="movie-list-item-title"><%= a.title %></span>
                            <p class="movie-list-item-desc"><%= a.overview.substring(0,120) %>.</p>
                            <br>
                            <button  type="button" id="<%= a.title %>,<%=a.vote_average%>,<%= name %>"  class="movie-list-item-button btn btn-danger" onclick="myFunction(this.id)" >Rate</button>      
                            
                           
                            </button> 
                          </div>
                          
                          <% } %> 
                       
                        </div>
                         </div>
                        </div>
                  
<!-- modal -->

<div id="modalinsert"></div>


            <div class="movie-list-container">
              <h1 class="movie-list-title">Comedy</h1>
              <div class="movie-list-wrapper">
                  <div class="movie-list">
                    <% for(let a of data.Comedy) {  %> 
                    
                      <div class="movie-list-item">
                          <img class="movie-list-item-img" src="https://image.tmdb.org/t/p/w500/<%= a.poster_path %>" alt="">
                          <span class="movie-list-item-title"><%= a.title %></span>
                          <p class="movie-list-item-desc"><%= a.overview.substring(0,120) %>.</p>
                          <button  type="button" id="<%= a.title %>,<%=a.vote_average%>,<%= name %>"  class="movie-list-item-button btn btn-danger" onclick="myFunction(this.id)" >Rate</button>      
                            
                     
                      </div>
                      <% } %> 
                     
              </div>
          </div>
          </div>

          <div class="movie-list-container">
            <h1 class="movie-list-title">Horror</h1>
            <div class="movie-list-wrapper">
                <div class="movie-list">
                  <% for(let a of data.Horror) {  %> 
                  
                    <div class="movie-list-item">
                        <img class="movie-list-item-img" src="https://image.tmdb.org/t/p/w500/<%= a.poster_path %>" alt="">
                        <span class="movie-list-item-title"><%= a.title %></span>
                        <p class="movie-list-item-desc"><%= a.overview.substring(0,120) %>.</p>
                        <button  type="button" id="<%= a.title %>,<%=a.vote_average%>,<%= name %>"  class="movie-list-item-button btn btn-danger" onclick="myFunction(this.id)" >Rate</button>      
                            
                   
                    </div>
                    <% } %> 
                   
            </div>
        </div>
        </div>

        <div class="movie-list-container">
          <h1 class="movie-list-title">Romance</h1>
          <div class="movie-list-wrapper">
              <div class="movie-list">
                <% for(let a of data.Romance) {  %> 
                
                  <div class="movie-list-item">
                      <img class="movie-list-item-img" src="https://image.tmdb.org/t/p/w500/<%= a.poster_path %>" alt="">
                      <span class="movie-list-item-title"><%= a.title %></span>
                      <p class="movie-list-item-desc"><%= a.overview.substring(0,120) %>.</p>
                      <button  type="button" id="<%= a.title %>,<%=a.vote_average%>,<%= name %>"  class="movie-list-item-button btn btn-danger" onclick="myFunction(this.id)" >Rate</button>      
                          
                  </div>
                  <% } %> 
                 
          </div>
      </div>
      </div>

      <div class="movie-list-container">
        <h1 class="movie-list-title">Family</h1>
        <div class="movie-list-wrapper">
            <div class="movie-list">
              <% for(let a of data.family) {  %> 
              
                <div class="movie-list-item">
                    <img class="movie-list-item-img" src="https://image.tmdb.org/t/p/w500/<%= a.poster_path %>" alt="">
                    <span class="movie-list-item-title"><%= a.title %></span>
                    <p class="movie-list-item-desc"><%= a.overview.substring(0,120) %>.</p>
                    <button  type="button" id="<%= a.title %>,<%=a.vote_average%>,<%= name %>"  class="movie-list-item-button btn btn-danger" onclick="myFunction(this.id)" >Rate</button>      
                            
               
                </div>
                <% } %> 
               
        </div>
    </div>
    </div>
    </div>


    <!-- Footer -->
<footer class="page-footer font-small blue">

  <!-- Copyright -->
  <div class="footer-copyright text-center py-3">© 2022 Copyright:
    <a href="/"> Akgec Project: Group-19</a>
  </div>
  <!-- Copyright -->

</footer>
<!-- Footer -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

<script>
const arrows = document.querySelectorAll(".arrow");
const movieLists = document.querySelectorAll(".movie-list");

arrows.forEach((arrow, i) => {
  const itemNumber = movieLists[i].querySelectorAll("img").length;
  let clickCounter = 0;
  arrow.addEventListener("click", () => {
    const ratio = Math.floor(window.innerWidth / 270);
    clickCounter++;
    if (itemNumber - (4 + clickCounter) + (4 - ratio) >= 0) {
      movieLists[i].style.transform = `translateX(${
        movieLists[i].computedStyleMap().get("transform")[0].x.value - 300
      }px)`;
    } else {
      movieLists[i].style.transform = "translateX(0)";
      clickCounter = 0;
    }
  });

     console.log(Math.floor(window.innerWidth / 270));

});

//TOGGLE

const ball = document.querySelector(".toggle-ball");
const items = document.querySelectorAll(
  ".container,.movie-list-title,.navbar-container,.sidebar,.left-menu-icon,.toggle"
);

ball.addEventListener("click", () => {
  items.forEach((item) => {
    item.classList.toggle("active");
  });
  ball.classList.toggle("active");
});




     function myFunction(title){
       console.log("title is",title);
      let indx=title.indexOf(",");
      let lastindx=title.lastIndexOf(",");
      let name=title.substring(0,indx);
      let value=title.substring(indx+1,lastindx);
      let username=title.substring(lastindx+1,title.length);
      let html=`<div class="modal fade" tabindex="-1" id="testModal">
    <div class="modal-dialog">
    <div class="modal-content">
    <div class="modal-header">
    <h5 class="modal-title" style="color:black;">${name}</h5>
    <button type="button" id="closingBtn" class="btn-close" data-dismiss="modal" aria-label="Close"><i class="fa fa-window-close" aria-hidden="true"></i></button>
    </div>
    <form method="post" action="/movie/ratingform">
      <div class="modal-body">
        <input name="usernemail"  value="${username}" type="hidden">
        <input name="moviename"  value="${name}" type="hidden">
        <p style="color:black;">Current Rating :${value}</p>
        <input type="text" placeholder="Enter Rating" id="user_rating" name="user_rating"/>
        </div>
      <div class="modal-footer">
      <button type="Submit" class="btn btn-primary" id="btnSave">Save</button>
      </form>
      </div>
    </div>
  </div>
</div>`;
       
document.getElementById('modalinsert').innerHTML=html;
const container = document.getElementById("testModal");
       const modal = new bootstrap.Modal(container);
       modal.show();       

      console.log(name);
      console.log(value);
      console.log(username);
      console.log("hii");
      
      document.getElementById("btnSave").addEventListener("click", function () {
        modal.hide();
      });
     
      document.getElementById("closingBtn").addEventListener("click",function(){
        modal.hide();
      })

    }
      
  </script>
  </body>
  </html>